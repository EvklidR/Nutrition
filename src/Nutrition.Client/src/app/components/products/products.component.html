<div class="ingredient-list">
  <div class="header-buttons">
    <button class="switch-button active">–ü—Ä–æ–¥—É–∫—Ç—ã</button>
    <button class="switch-button dishes-btn" (click)="navigateToDishes()">–ë–ª—é–¥–∞</button>
  </div>

  <input type="text" class="filter-input" placeholder="–ü–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤..." [(ngModel)]="params.name" (ngModelChange)="loadProducts()" />

  <div class="controls">
    <div class="sorting">
      <label>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:</label>
      <select [(ngModel)]="params.sortingCriteria" (change)="loadProducts()">
        <option [ngValue]="null">–ë–µ–∑ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏</option>
        <option [ngValue]="0">–ö–∞–ª–æ—Ä–∏–∏</option>
        <option [ngValue]="1">–ë–µ–ª–∫–∏</option>
        <option [ngValue]="2">–ñ–∏—Ä—ã</option>
        <option [ngValue]="3">–£–≥–ª–µ–≤–æ–¥—ã</option>
      </select>

      <label>
        <input type="checkbox" [(ngModel)]="params.sortAsc" (change)="loadProducts()"> –ü–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é
      </label>
    </div>

    <div class="pagination">
      <label>–°—Ç—Ä–∞–Ω–∏—Ü–∞:</label>
      <button (click)="changePage(-1)" [disabled]="params.page === 1">‚Üê</button>
      <span>{{ params.page || 1 }} / {{ totalPages() }}</span>
      <button (click)="changePage(1)" [disabled]="!hasNextPage">‚Üí</button>
    </div>
  </div>

  <button class="add-button" (click)="openAddProductModal()">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç</button>

  <div *ngIf="isLoading" class="loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>

  <div *ngIf="!isLoading && products.length === 0" class="no-data">
    <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤.</p>
  </div>

  <div class="ingredients-container" *ngIf="!isLoading && products.length > 0">
    <div class="ingredient-card" *ngFor="let product of products">
      <div class="ingredient-header">
        <h3>{{ product.name }}</h3>
        <button class="delete-button" (click)="deleteProduct(product.id)">üóëÔ∏è</button>
      </div>
      <p>–ö–∞–ª–æ—Ä–∏–∏: {{ product.calories | number:'1.1-1' }} –∫–∫–∞–ª</p>
      <p>–ë–µ–ª–∫–∏: {{ product.proteins | number:'1.1-1' }} –≥</p>
      <p>–ñ–∏—Ä—ã: {{ product.fats | number:'1.1-1' }} –≥</p>
      <p>–£–≥–ª–µ–≤–æ–¥—ã: {{ product.carbohydrates | number:'1.1-1' }} –≥</p>
    </div>
  </div>
</div>
